<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IntelVision | Servidores</title>
  <link rel="stylesheet" href="./css/global.css" />
  <link rel="stylesheet" href="./css/dashboard.css" />
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.2.1"></script>
  <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
  <script src="./js/sessao.js"></script>
  <script src="./js/alerta.js"></script>
</head>

<body onload="validarSessaoAdministrador(), puxarDadosServidor()">
  <!-- <header>
    <div class="cabecalho-dash">
      <div class="nome-dash">
        <i class="fa-solid fa-chart-simple"></i>
        <h3>Dashboard</h3>
      </div>

      <div class="icone-usuario">
        <i class="fa-solid fa-user"></i>
        <img src="../public/assets/cadastro/iconeUser.jpg" alt="" />
      </div>
    </div>
  </header> -->

  <div class="janela">
    <!-- MENU -->
    <div class="header-left">
      <h1>IntelVision</h1>
      <div class="escolhaDash">
        <a href="./servidores.html">
          <div class="btn-nav ativo">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                fill="#8b979f">
                <path
                  d="M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z" />
              </svg>
              <h3>Dashboard</h3>
            </span>
          </div>
        </a>

        <a href="./tela-administracao-usuario.html">
          <div class="btn-nav inativo" id="btn-nav-admin-usuarios">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                fill="#8b979f">
                <path
                  d="M400-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM80-160v-112q0-33 17-62t47-44q51-26 115-44t141-18h14q6 0 12 2-8 18-13.5 37.5T404-360h-4q-71 0-127.5 18T180-306q-9 5-14.5 14t-5.5 20v32h252q6 21 16 41.5t22 38.5H80Zm560 40-12-60q-12-5-22.5-10.5T584-204l-58 18-40-68 46-40q-2-14-2-26t2-26l-46-40 40-68 58 18q11-8 21.5-13.5T628-460l12-60h80l12 60q12 5 22.5 11t21.5 15l58-20 40 70-46 40q2 12 2 25t-2 25l46 40-40 68-58-18q-11 8-21.5 13.5T732-180l-12 60h-80Zm40-120q33 0 56.5-23.5T760-320q0-33-23.5-56.5T680-400q-33 0-56.5 23.5T600-320q0 33 23.5 56.5T680-240ZM400-560q33 0 56.5-23.5T480-640q0-33-23.5-56.5T400-720q-33 0-56.5 23.5T320-640q0 33 23.5 56.5T400-560Zm0-80Zm12 400Z" />
              </svg>
              <h3>Adm - Usuários</h3>
            </span>
          </div>
        </a>

        <a href="./tela-administracao-servidores.html">
          <div class="btn-nav inativo" id="btn-nav-admin-servidores">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                fill="#8b979f">
                <path
                  d="M200-200v-160 4-4 160Zm0 80q-33 0-56.5-23.5T120-200v-160q0-33 23.5-56.5T200-440h560q33 0 56.5 23.5T840-360H200v160h400v80H200Zm0-400q-33 0-56.5-23.5T120-600v-160q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v160q0 33-23.5 56.5T760-520H200Zm0-80h560v-160H200v160Zm0 0v-160 160ZM760-40v-80h-80v-80h80v-80h80v80h80v80h-80v80h-80Z" />
              </svg>
              <h3>Adm - Servidores</h3>
            </span>
          </div>
        </a>
        <div class="btn-nav inativo">
          <a href="/comparativo.html">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
              background="#FFFFFF" fill="#8b979f">
              <path
                d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm40-80h480v-80H240v80Zm0-160h480v-80H240v80Zm0-160h480v-80H240v80ZM200-200v-560 560Z" />
            </svg>
            <h3>Comparativo</h3>
          </a>
        </div>

        <a href="./tela-servidores-codecs.html">
          <div class="btn-nav inativo" id="btn-nav-admin-servidores">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                fill="#8b979f">
                <path
                  d="M160-400v-80h640v80H160Zm0-120v-80h640v80H160ZM440-80v-128l-64 64-56-56 160-160 160 160-56 56-64-62v126h-80Zm40-560L320-800l56-56 64 64v-128h80v128l64-64 56 56-160 160Z" />
              </svg>
              <h3>Análise-Codecs</h3>
            </span>
          </div>
        </a>
      </div>

      <div class="btn-nav btn-logout inativo" onclick="limparSessao()">
        <a href="./index.html">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#8b979f">
            <path
              d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z" />
          </svg>
          <h3>Sair</h3>
        </a>
      </div>
    </div>
    <!-- FIM MENU -->
    <!-- Conteúdo da página -->
    <div class="dash">
      <div class="dash__conteudo">
        <!-- KPIs -->
        <!-- <div class="dash-atualizacao">
          <h4>Última Atualização:</h4>
          <span id="dataHora"></span>
        </div> -->
        <div class="kpi-container">
          <div class="kpi-card">
            <div class="kpi-header">
              <span class="kpi-title">Servidores de Armazenamento em alerta ou crítico</span>
              <!-- <div class="kpi-icon"><i class="fa-solid fa-microchip"></i></div> -->
            </div>
            <div class="kpi-value" id="kpiCPU">--</div>
            <div class="kpi-delta" id="deltaCPU">
              <span style="color: #999; font-weight: 400;">Aguardando...</span>
            </div>
          </div>
          <div class="kpi-card">
            <div class="kpi-header">
              <span class="kpi-title">Servidores de WEB em alerta ou crítico</span>
              <!-- <div class="kpi-icon"><i class="fa-solid fa-microchip"></i></div> -->
            </div>
            <div class="kpi-value" id="kpiCPU">--</div>
            <div class="kpi-delta" id="deltaCPU">
              <span style="color: #999; font-weight: 400;">Aguardando...</span>
            </div>
          </div>
          <div class="kpi-card">
            <div class="kpi-header">
              <span class="kpi-title">Servidores de Processamento em alerta ou crítico</span>
              <!-- <div class="kpi-icon"><i class="fa-solid fa-microchip"></i></div> -->
            </div>
            <div class="kpi-value" id="kpiCPU">--</div>
            <div class="kpi-delta" id="deltaCPU">
              <span style="color: #999; font-weight: 400;">Aguardando...</span>
            </div>
          </div>
        </div>
        <!-- Filtro Servidores -->
        <!-- <div class="kpi-container div-procura">
            <div class="filtro_servidores div-ipt-procura">
              <p>Filtrar Tipo de Servidores:</p>
              <select
                name="fitro_tipo_servidor"
                id="fitro_tipo_servidor"
                onchange="puxarDadosServidor()"
                class="ipt_procura"
              >
                <option value="Todos">Todos</option>
                <option value="Armazenamento">Armazenamento</option>
                <option value="Processamento">Processamento</option>
                <option value="Web">WEB</option>
              </select>
            </div>
            <div class="filtro_servidores div-ipt-procura">
              <p>Filtrar Situação de Servidores:</p>
              <select
                name="fitro_situacao_servidor"
                id="fitro_situacao_servidor"
                onchange="puxarDadosServidor()"
                class="ipt_procura"
              >
                <option value="Todos">Todos</option>
                <option value="critico">Crítico</option>
                <option value="alerta">Alerta</option>
                <option value="ok">Ok</option>
              </select>
            </div>
          </div> -->

        <!-- Situação dos Servidores -->
        <!-- <div class="situacao-servidores">
            <h3>Situação dos servidores</h3>

            <div class="carousel">
              <div class="carousel-track" id="trilhaCarrosselServidores"></div>

              <button class="prev">
                <i class="fa-solid fa-chevron-left"></i>
              </button>
              <button class="next">
                <i class="fa-solid fa-chevron-right"></i>
              </button>
            </div>
          </div> -->

        <!-- Gráfico de requisições por dia -->
        <div class="graficos-dados-gerais">
          <div class="chart-container">
            <div class="cabecalhoGraficoUm">
              <h3>Top 5 Uso de RAM</h3>
              <div class="filtrosGraficoUm">
                <select name="" id="" class="select-input">
                  <option value="Todos">Todos</option>
                  <option value="Armazenamento">Armazenamento</option>
                  <option value="Processamento">Processamento</option>
                  <option value="Web">WEB</option>
                </select>
                <select name="" id="">
                  <option value="">RAM</option>
                  <option value="">Disco</option>
                  <option value="">CPU</option>
                </select>
              </div>
            </div>
            <canvas id="requisicoesDia"></canvas>
          </div>
          <div class="mapaServidores">
            <h3>Situação dos servidores</h3>
            <div class="mapaDeCalor">
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
              <div class="server01"></div>
            </div>
          </div>
        </div>
        <!-- Gráficos de requisições por hora -->
        <div class="grafico-so-rede">
          <div class="chart-container2">
            <h3>Requisições por hora</h3>
            <canvas id="requisicoesHora"></canvas>
          </div>
        </div>


        <!-- <div class="chart-container">
            <h3>Uso da CPU (%) por hora</h3>
            <canvas id="cpuUso"></canvas>
          </div>

          <div class="chart-container">
            <h3>Uso da RAM (%) por hora</h3>
            <canvas id="ramUso"></canvas>
          </div> -->
      </div>
    </div>
  </div>

  <script>
    // Gráfico de Requisições por dia
    const ctxDia = document.getElementById("requisicoesDia");
    new Chart(ctxDia, {
      type: "bar",
      data: {
        labels: ["Seg", "Ter", "Qua", "Qui", "Sex"],
        datasets: [
          {
            axis: "y",
            label: "Requisições",
            data: [100000, 80000, 120000, 150000, 90000],
            backgroundColor: "#2D6A54",
            borderColor: "#2D6A54",
            borderWidth: 1,
          },
        ],
      },
      options: {
        indexAxis: "y",
        responsive: true,
        plugins: {
          legend: { display: false },
        },
      },
    });

    // Gráfico de Requisições por hora
    const ctxHora = document.getElementById("requisicoesHora");
    new Chart(ctxHora, {
      type: "line",
      data: {
        labels: ["00", "01", "02", "03", "04", "05"],
        datasets: [
          {
            label: "Requisições",
            data: [5000, 10000, 8000, 9000, 8000, 10000],
            backgroundColor: "#D8F4EA",
            borderColor: "#28a745",
            borderWidth: 2,
            fill: true,
            tension: 0.4,
          },
        ],
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } },
    });
    // Gráfico de Uso da CPU
    const ctxCPU = document.getElementById("cpuUso");
    new Chart(ctxCPU, {
      type: "line",
      data: {
        labels: ["00h", "04h", "08h", "12h", "16h", "20h", "24h"],
        datasets: [
          {
            label: "Uso da CPU (%)",
            data: [35, 50, 70, 90, 65, 45, 55],
            backgroundColor: "rgba(255, 82, 82, 0.2)",
            borderColor: "#ff5252",
            borderWidth: 2,
            fill: true,
            tension: 0.4,
          },
        ],
      },
      options: {
        responsive: true,
        plugins: { legend: { display: false } },
        scales: {
          y: {
            beginAtZero: true,
            max: 100,
            title: { display: true, text: "%" },
          },
        },
      },
    });

    // Gráfico de Uso da RAM
    const ctxRAM = document.getElementById("ramUso");
    new Chart(ctxRAM, {
      type: "line",
      data: {
        labels: ["00h", "04h", "08h", "12h", "16h", "20h", "24h"],
        datasets: [
          {
            label: "Uso da RAM (%)",
            data: [60, 55, 65, 85, 75, 70, 60],
            backgroundColor: "rgba(0, 188, 212, 0.2)",
            borderColor: "#00bcd4",
            borderWidth: 2,
            fill: true,
            tension: 0.4,
          },
        ],
      },
      options: {
        responsive: true,
        plugins: { legend: { display: false } },
        scales: {
          y: {
            beginAtZero: true,
            max: 100,
            title: { display: true, text: "%" },
          },
        },
      },
    });
  </script>
  <script></script>
  <script src="./js/situacaoServidores.js"></script>
</body>

</html>